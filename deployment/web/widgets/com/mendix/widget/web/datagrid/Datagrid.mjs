import{createContext as e,useState as t,useRef as n,useEffect as o,useCallback as r,useMemo as i,memo as a,forwardRef as l,createElement as s,useContext as c,Fragment as u,useLayoutEffect as d,Children as p,isValidElement as m,cloneElement as g,useReducer as h}from"react";import{and as f}from"mendix/filters/builders";import"react-dom";var v;!function(e){e.STRING="string",e.NUMBER="number",e.ENUMERATION="enum",e.DATE="date",e.ASSOCIATION="association"}(v||(v={}));const w="com.mendix.widgets.web.filterable.filterContext";function b(){const t=window[w];if(t)return{FilterContext:t};const n=e(void 0);return window[w]=n,{FilterContext:n}}const y=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function x(e,t){if(function(e){return y(e,"arg1")&&y(e,"arg2")}(e)&&"attribute"===e.arg1.type&&e.arg1.attributeId===t.id&&(n=e.arg2,y(n,"type")&&y(n,"value")))return{type:e.name,value:e.arg2.value};var n}function C(e,t){var n;if(!e||!t)return[];return(null!==(n=S(t))&&void 0!==n?n:[]).flatMap((t=>{const n=x(t,e);return n?[n]:[]}))}function S(e){return!e||"function"!==e.type||"and"!==e.name&&"or"!==e.name?e?[e]:void 0:e.args.flatMap(S).filter((e=>void 0!==e))}const I=e=>{e&&e.canExecute&&!e.isExecuting&&e.execute()};class A{constructor(e){this.selectionValue=e,this.type="Single"}updateProps(e){this.selectionValue=e}isSelected(e){var t;return(null===(t=this.selectionValue.selection)||void 0===t?void 0:t.id)===e.id}add(e){this.selectionValue.setSelection(e)}remove(e){this.selectionValue.setSelection(void 0)}}class N{constructor(e,t,n){this.selectionValue=e,this.selectableItems=t,this.pageSize=n,this.type="Multi",this.rangeStart=void 0}isSelected(e){return this.selectionValue.selection.some((t=>t.id===e.id))}updateProps(e,t){this.selectionValue=e,this.selectableItems=t}get selectionStatus(){return 0===this.selectionValue.selection.length?"none":this.selectionValue.selection.length===this.selectableItems.length?"all":"some"}add(e){this._add(e),this._setRangeStart(e),this._setRangeEnd(void 0)}remove(e){this.isSelected(e)&&this.selectionValue.setSelection(this.selectionValue.selection.filter((t=>t.id!==e.id))),this._resetRange()}_add(e){this.isSelected(e)||this.selectionValue.setSelection(this.selectionValue.selection.concat(e))}_setRangeStart(e){let t=-1;void 0!==e&&(t=this.selectableItems.indexOf(e)),this.rangeStart=t>-1?t:void 0}_setRangeEnd(e){if(void 0===e)return void(this.rangeEnd=void 0);const t=this.rangeEnd,n=this.selectableItems.indexOf(e);this.rangeEnd=n>-1?n:void 0,this._updateSelectionWithRange(this.rangeStart,t,n)}_updateSelectionWithRange(e,t,n){if(void 0===e)return;if(-1===n)return;if(t===n)return;if(void 0===t){const t=this._getRange(e,n),o=this._union(this.selectionValue.selection,t);return void this.selectionValue.setSelection(o)}const o=this._getRange(e,t),r=this._getRange(e,n);let i=[...this.selectionValue.selection];i=this._diff(i,o),i=this._union(i,r),this.selectionValue.setSelection(i)}_getRange(e,t){const n=this.selectableItems.length,[o,r]=[P(e,0,n),P(t,0,n)].sort(((e,t)=>e-t));return this.selectableItems.slice(o,r+1)}_resetRange(){this._setRangeStart(void 0),this._setRangeEnd(void 0)}_union(e,t){const n=[...e],o=new Set(e.map((e=>e.id)));for(const e of t)o.has(e.id)||(o.add(e.id),n.push(e));return n}_diff(e,t){const n=new Set(e),o=new Set(t.map((e=>e.id)));for(const e of n)o.has(e.id)&&n.delete(e);return Array.from(n)}selectAll(){this.selectionValue.setSelection(this.selectableItems)}selectNone(){this.selectionValue.setSelection([])}selectUpTo(e){void 0===this.rangeStart?(this._add(e),this._setRangeStart(e)):this._setRangeEnd(e)}_getAdjacentIndex(e,t,n){const o=this.selectableItems.length-1,r="forward"===t;if("edge"===n)return r?o:0;let i;return i="page"===n?r?e+this.pageSize:e-this.pageSize:r?e+1:e-1,Math.max(0,Math.min(i,o))}selectUpToAdjacent(e,t,n,o){if(!1===t)return void this._resetRange();const r=this.selectableItems.findIndex((t=>t.id===e.id)),i=this._getAdjacentIndex(r,n,o);i!==r&&(void 0===this.rangeStart&&this._setRangeStart(e),this._setRangeEnd(this.selectableItems.at(i)))}}const P=(e,t,n)=>Math.min(Math.max(e,t),n);function E(e,t,r,i){const a=n([]),l=n(!1);l.current||(l.current="loading"!==(null==t?void 0:t.status)),o((()=>{var t;const n=a.current,o=null!==(t=null==e?void 0:e.selection)&&void 0!==t?t:[],i=Array.isArray(o)?o:[o];(function(e,t){if(e.length!==t.length)return!1;const n=new Set(t.map((e=>e.id)));return e.every((e=>n.has(e.id)))})(n,i)||(a.current=i,l.current&&I(r))}),[null==e?void 0:e.selection,r]);const s=n(void 0);var c,u;void 0!==e&&("Single"===e.type?s.current?s.current.updateProps(e):s.current=new A(e):s.current?s.current.updateProps(e,null!==(c=t.items)&&void 0!==c?c:[]):s.current=new N(e,null!==(u=t.items)&&void 0!==u?u:[],i));return s.current}const _="com.mendix.widgets.web.selectable.selectionContext";const O={onSelect:()=>{},onSelectAll:()=>{},onSelectAdjacent:()=>{},isSelected:()=>!1};function T(){var e;null===(e=window.getSelection())||void 0===e||e.removeAllRanges()}const k=new Set(["MetaLeft","MetaRight","ControlLeft","ControlRight"]);const L=new Set(["ArrowUp","ArrowDown","PageUp","PageDown","Home","End"]);const D={ArrowUp:"item",ArrowDown:"item",PageUp:"page",PageDown:"page",Home:"edge",End:"edge"};function M(e,t,n){if(r=e.code,L.has(r)){if(("Home"===e.code||"End"===e.code)&&!1===e.ctrlKey)return;n.onSelectAdjacent(t,e.shiftKey,"ArrowUp"===(o=e.code)||"PageUp"===o||"Home"===o?"backward":"forward",D[e.code])}var o,r}function R(e){var t,n;"Space"===e.code&&(t=e.currentTarget,n=e.target,(Array.from(t.children).includes(n)||e.target===e.currentTarget)&&(e.stopPropagation(),e.preventDefault()))}function z(e,t){if("None"===e)return{};let n=!1;const[o,r]=function(e,t){let n=0,o=0;return[function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const l=(new Date).getTime()-o,s=()=>{n=0,o=(new Date).getTime(),e(...i)};n||(l>=t?s():n=window.setTimeout(s,t-l))},()=>{clearTimeout(n),n=0}]}((function(){n=!0,document.body.style.userSelect="none",t.onSelectAll("selectAll")}),500);return{onKeyDown(e,n){e.shiftKey&&T(),!function(e){return"KeyA"===e.code&&(e.metaKey||e.ctrlKey)}(e)?M(e,n,t):o(),R(e)},onKeyUp(e,o){n&&(function(e){return k.has(e.code)}(e)||"KeyA"===e.code)&&(r(),n=!1,setTimeout((()=>{T(),document.body.style.userSelect=""}),250)),function(e){return"Space"===e.code&&e.shiftKey}(e)&&t.onSelect(o,!1),R(e)}}}function H(e){const{selectionMethod:t}=e,n=function(e){if(void 0===e)return"None";if("object"==typeof e)return e.type;if("None"===e||"Single"===e||"Multi"===e)return e;throw new Error("Unknown selection type: ".concat(e))}(e.selection),o=(r=e.helper,i((()=>void 0===r?O:{onSelect:(e,t)=>{"Multi"===r.type&&t?r.selectUpTo(e):r.isSelected(e)?r.remove(e):r.add(e)},onSelectAll(e){"Single"!==r.type?"selectAll"!==e&&"all"===r.selectionStatus?r.selectNone():r.selectAll():console.warn("Datagrid: calling onSelectAll in single selection mode have no effect")},onSelectAdjacent(){"Single"!==r.type?r.selectUpToAdjacent(...arguments):console.warn("Datagrid: calling onSelectAdjacent in single selection mode have no effect")},isSelected:e=>r.isSelected(e)}),[r]));var r;const a="Multi"===n&&e.showSelectAllToggle,l="None"!==n&&"checkbox"===t,s=function(e,t){return i((()=>z(e,t)),[e,t])}(n,o);return i((function(){return{selectionType:n,selectionMethod:t,showSelectAllToggle:a,showCheckboxColumn:l,...o,...s}}),[n,t,a,l,o,s])}function V(){const e="com.mendix.widgets.web.UUID";return window[e]||(window[e]=1),window[e]++}var F,K={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/F=K,function(){var e={}.hasOwnProperty;function t(){for(var n=[],o=0;o<arguments.length;o++){var r=arguments[o];if(r){var i=typeof r;if("string"===i||"number"===i)n.push(r);else if(Array.isArray(r)){if(r.length){var a=t.apply(null,r);a&&n.push(a)}}else if("object"===i){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){n.push(r.toString());continue}for(var l in r)e.call(r,l)&&r[l]&&n.push(l)}}}return n.join(" ")}F.exports?(t.default=t,F.exports=t):window.classNames=t}();var U=K.exports;const B=a(l((function(e,t){let{className:n,borderTop:o,clickable:r,previewAsHidden:i,wrapText:a,alignment:l,tabIndex:c,...u}=e;return s("div",{className:U("td",{"td-borders":o,clickable:r,"hidden-column-preview":i,"wrap-text":a,["align-column-".concat(l)]:"string"==typeof l},n),role:"gridcell",tabIndex:null!=c?c:r?0:void 0,ref:t,...u})})));function j(e,t){return"".concat(e,",").concat(t)}function Z(e){const[t,n]=e.split(",");return[parseInt(t,10),parseInt(n,10)]}class W{constructor(e,t){this._listeners=[],this._focusTarget=this._getInitPosition(),this._positionController=e,this._layout=t}get focusTarget(){return this._focusTarget}addListener(e){this._listeners.push(e)}removeListener(e){this._listeners.splice(this._listeners.indexOf(e),1)}updateGridLayout(e){this._layout=e,void 0===this._layout.get(Z(this._focusTarget))&&this._setTarget(this._getInitPosition())}dispatch(e){const t=this._positionController.dispatch(e,this._layout);void 0!==t&&t!==this._focusTarget&&("Keyboard"===e.type?this._setTargetAndFocus(t):this._setTarget(t))}_setTarget(e){const t=this._focusTarget;this._focusTarget=e,this._emit({lastPos:t,targetPos:e,shouldFocus:!1})}_setTargetAndFocus(e){const t=this._focusTarget;this._focusTarget=e,this._emit({lastPos:t,targetPos:e,shouldFocus:!0})}_emit(e){for(const t of this._listeners)t(e)}_getInitPosition(){return j(0,0)}}class G{constructor(e,t,n){this.columns=t,this.rows=e,this.pageSize=n,this._positions=new Set;for(let n=0;n<e;n+=1)for(let e=0;e<t;e+=1)this._positions.add(j(e,n))}get(e){let[t,n]=e;const o=j(t<0?this.columns+t:t,n<0?this.rows+n:n);if(this._positions.has(o))return o}}const X=new Set(["ArrowUp","ArrowRight","ArrowDown","ArrowLeft","PageUp","PageDown","End","Home"]);const q={ArrowUp:function(e){let[t,n]=e;return[t,Math.max(0,n-1)]},ArrowRight:function(e){let[t,n]=e;return[t+1,n]},ArrowDown:function(e){let[t,n]=e;return[t,n+1]},ArrowLeft:function(e){let[t,n]=e;return[Math.max(0,t-1),n]},PageUp:(e,t)=>function(e,t){let[n,o]=e;return[n,Math.max(0,o-t)]}(e,t.pageSize),PageDown:(e,t)=>function(e,t,n){let[o,r]=e;return[o,Math.min(n-1,r+t)]}(e,t.pageSize,t.rows),End:(e,t,n)=>{let{ctrlKey:o}=n;return o?[-1,-1]:function(e){let[t,n]=e;return[-1,n]}(e)},Home:(e,t,n)=>{let{ctrlKey:o}=n;return o?[0,0]:function(e){let[t,n]=e;return[0,n]}(e)}};class J{dispatch(e,t){return"Focus"===e.type?this._handleFocusEvent(e.reactEvent):"Mouse"===e.type?this._handleMouseEvent(e.reactEvent):this._handleKeyboardEvent(e.reactEvent,t)}_handleKeyboardEvent(e,t){if(n=e.code,!X.has(n))return;var n;if(!Object.hasOwn(q,e.code))throw new Error("Keyboard nav: can't find handler for ".concat(e.code," key"));e.preventDefault();const o=Z(this._getTargetPosition(e));return t.get(q[e.code](o,t,e))}_handleMouseEvent(e){return this._getTargetPosition(e)}_handleFocusEvent(e){return this._getTargetPosition(e)}_getTargetPosition(e){var t;const n=null===(t=e.currentTarget.dataset)||void 0===t?void 0:t.position;if(void 0===n)throw new Error("Keyboard navigation: target position is missing");return n}}const Y=Symbol("DefaultKeyNavContextValue"),Q=e(Y);function $(e){const t=function(e){let{rows:t,columns:o,pageSize:r}=e;const a=n(null);return i((()=>{const e=new G(t,o,r);return null===a.current?a.current=new W(new J,e):a.current.updateGridLayout(e),a.current}),[t,o,r])}(e),o=i((()=>({focusController:t})),[t]);return s(Q.Provider,{value:o},e.children)}function ee(e){const a=n(e.focusTarget),{focusController:l}=function(){const e=c(Q);if(e===Y)throw new Error("useKeyNavContext: context provider is missing");return e}(),[s,u]=i((()=>{const t=j(e.columnIndex,e.rowIndex);return[t===l.focusTarget,t]}),[e.columnIndex,e.rowIndex,l.focusTarget]),[d,p]=t({canFocus:!1}),m=n(null);return o((()=>{const e=e=>p((t=>e.lastPos===u?{canFocus:!1}:e.targetPos===u?{canFocus:e.shouldFocus}:t));return l.addListener(e),()=>l.removeListener(e)}),[l,u]),o((()=>{const{current:e}=a;if(d.canFocus){const t="function"==typeof e?e():m.current;null==t||t.focus()}}),[d]),{ref:m,tabIndex:s?0:-1,"data-position":u,onKeyDown:r((e=>l.dispatch({type:"Keyboard",reactEvent:e})),[l]),onClick:r((e=>l.dispatch({type:"Mouse",reactEvent:e})),[l]),onFocus:r((e=>l.dispatch({type:"Focus",reactEvent:e})),[l])}}const te=a((function(e){var t;const n=ee({columnIndex:null!==(t=e.columnIndex)&&void 0!==t?t:-1,rowIndex:e.rowIndex});return s(B,{alignment:e.column.alignment,borderTop:0===e.rowIndex,className:e.column.columnClass(e.item),wrapText:e.column.wrapText,clickable:e.clickable,previewAsHidden:e.preview&&(e.column.initiallyHidden||!e.column.visible),...n},e.column.renderCellContent(e.item))}));function ne(e){let{direction:t}=e;const n="pagination-icon ".concat(t);switch(t){case"forward":return s("span",{"aria-hidden":!0},s("svg",{className:n,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s("path",{d:"M17.81 6.63C17.48 6.37 17 6.61 17 7.02V24.98C17 25.4 17.48 25.63 17.81 25.37L28.5 16.39C28.76 16.19 28.76 15.8 28.5 15.6L17.81 6.63Z",fill:"currentColor"}),s("path",{d:"M4.81 6.63C4.48 6.37 4 6.61 4 7.02V24.98C4 25.4 4.48 25.63 4.81 25.37L15.5 16.39C15.76 16.19 15.76 15.8 15.5 15.6L4.81 6.63Z",fill:"currentColor"})));case"step-forward":return s("span",{"aria-hidden":!0},s("svg",{className:n,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s("path",{d:"M8.81 6.63C8.48 6.37 8 6.61 8 7.02V24.98C8 25.4 8.48 25.63 8.81 25.37L20.5 16.39C20.76 16.19 20.76 15.8 20.5 15.6L8.81 6.63Z",fill:"currentColor"}),s("path",{d:"M24 6H22V26H24V6Z",fill:"currentColor"})));case"backward":return s("span",{"aria-hidden":!0},s("svg",{className:n,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s("path",{d:"M14.19 6.63L3.51 15.61C3.25 15.81 3.25 16.2 3.51 16.4L14.2 25.38C14.53 25.64 15.01 25.4 15.01 24.99V7.02C15.01 6.6 14.53 6.37 14.2 6.63H14.19Z",fill:"currentColor"}),s("path",{d:"M27.19 6.63L16.5 15.61C16.24 15.81 16.24 16.2 16.5 16.4L27.19 25.38C27.52 25.64 28 25.4 28 24.99V7.02C28 6.6 27.52 6.37 27.19 6.63Z",fill:"currentColor"})));case"step-backward":return s("span",{"aria-hidden":!0},s("svg",{className:n,viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},s("path",{d:"M23.19 6.63L11.51 15.61C11.25 15.81 11.25 16.2 11.51 16.4L23.2 25.38C23.53 25.64 24.01 25.4 24.01 24.99V7.02C24.01 6.6 23.53 6.37 23.2 6.63H23.19Z",fill:"currentColor"}),s("path",{d:"M10 6H8V26H10V6Z",fill:"currentColor"})));default:return s("div",null)}}function oe(e){var t,n,o,r,i,a,l;const c=void 0!==e.numberOfItems?Math.ceil(e.numberOfItems/e.pageSize):void 0,u=void 0!==c?c-1:0,d=void 0!==c,p=e.page*e.pageSize+1,m=e.canNextPage||!e.numberOfItems?(e.page+1)*e.pageSize:e.numberOfItems,g=t=>{e.setPaginationIndex&&e.setPaginationIndex(t)};if(0===e.numberOfItems)return null;const h="".concat(p," to ").concat(m," ").concat(d?"of ".concat(null!==(t=e.numberOfItems)&&void 0!==t?t:(null!=c?c:1)*e.pageSize):"");return s("div",{"aria-label":null!==(n=e.labelPagination)&&void 0!==n?n:"Pagination",className:"pagination-bar"},s("button",{className:"btn pagination-button",disabled:0===e.page,...re((()=>{e.gotoPage(0),g(0)})),"aria-label":null!==(o=e.labelFirstPage)&&void 0!==o?o:"Go to first page"},s(ne,{direction:"step-backward"})),s("button",{className:"btn pagination-button",disabled:!e.canPreviousPage,...re((()=>{e.previousPage(),g(e.page-1)})),"aria-label":null!==(r=e.labelPreviousPage)&&void 0!==r?r:"Go to previous page"},s(ne,{direction:"backward"})),s("span",{className:"sr-only sr-only-focusable"},null!==(i=e.labelPagingStatus)&&void 0!==i?i:"Currently showing"," ",h),s("div",{"aria-hidden":!0,className:"paging-status"},h),s("button",{"aria-label":null!==(a=e.labelNextPage)&&void 0!==a?a:"Go to next page",className:"btn pagination-button",disabled:!e.canNextPage,...re((()=>{e.nextPage(),g(e.page+1)}))},s(ne,{direction:"forward"})),d&&s("button",{"aria-label":null!==(l=e.labelLastPage)&&void 0!==l?l:"Go to last page",className:"btn pagination-button",disabled:e.page===u,...re((()=>{e.gotoPage(u),g(u)}))},s(ne,{direction:"step-forward"})))}function re(e){return{onClick:e,onKeyDown:t=>{" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),t.stopPropagation(),e())}}}const ie=Symbol("NO_PROPS_VALUE"),ae=e(ie),le=ae.Provider;function se(){const e=c(ae);if(e===ie)throw new Error("useTableProps: failed to get value from props provider.");return e}function ce(e){let{id:t,value:r,onChange:i}=e;const a=n(null);return o((()=>{a.current&&("all"===r||"none"===r?a.current.indeterminate=!1:"some"===r&&(a.current.indeterminate=!0))}),[r]),s("input",{id:t,type:"checkbox",className:"three-state-checkbox",ref:a,checked:"none"!==r,onChange:i})}function ue(){const{selectionProps:e,selectionStatus:t}=se(),{showCheckboxColumn:n,showSelectAllToggle:o,onSelectAll:r}=e;if(!1===n)return s(u,null);let i=null;if(o){if("unknown"===t)throw new Error("Don't know how to render checkbox with selectionStatus=unknown");i=s(ce,{value:t,onChange:r})}return s("div",{className:"th widget-datagrid-col-select",role:"columnheader"},i)}function de(e){const t=n(e);return o((()=>{t.current=e})),r((function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.current&&t.current.apply(void 0,n)}),[])}function pe(e){let{minWidth:i=50,setColumnWidth:a,onResizeEnds:l}=e;const[c,u]=t(!1),[d,p]=t(0),[m,g]=t(0),h=n(null),f=r((e=>{const t=e.touches?e.touches[0].screenX:e.screenX;if(p(t),u(!0),h.current){const e=h.current.parentElement;g(e.clientWidth)}}),[]),v=r((()=>{c&&(u(!1),g(0),null==l||l())}),[l,c]),w=de(a),b=r((e=>{if(!c)return;const t=e.touches?e.touches[0].screenX:e.screenX;if(m){let e=m-(d-t);e<i&&(e=i),w(e)}}),[c,m,d,i,w]);return o((()=>(document.addEventListener("mousemove",b),document.addEventListener("mouseup",v),document.addEventListener("touchmove",b),document.addEventListener("touchend",v),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",v)})),[b,v]),s("div",{"aria-hidden":!0,ref:h,className:"column-resizer",onMouseDown:f,onTouchStart:f},s("div",{className:"column-resizer-bar"}))}function me(){return s("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"eye",className:"svg-inline--fa fa-eye fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},s("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.589893 7.715C0.724893 7.52 3.91989 3 7.99989 3C12.0799 3 15.2749 7.52 15.4099 7.715L15.6099 8L15.4099 8.285C15.2749 8.48 12.0799 13 7.99989 13C3.91989 13 0.724893 8.48 0.589893 8.285L0.389893 8L0.589893 7.715ZM1.62489 8C2.37489 8.96 4.98989 12 7.99989 12C11.0099 12 13.6249 8.96 14.3749 8C13.6249 7.04 11.0099 4 7.99989 4C4.98989 4 2.37489 7.04 1.62489 8ZM5.5 8C5.5 6.62 6.62 5.5 8 5.5C9.38 5.5 10.5 6.62 10.5 8C10.5 9.38 9.38 10.5 8 10.5C6.62 10.5 5.5 9.38 5.5 8ZM6.5 8C6.5 8.825 7.175 9.5 8 9.5C8.825 9.5 9.5 8.825 9.5 8C9.5 7.175 8.825 6.5 8 6.5C7.175 6.5 6.5 7.175 6.5 8Z",fill:"currentColor"}))}function ge(e,t){o((()=>{const{current:n}=Array.isArray(e)?e[0]:e;if(!n)return;const o=n.ownerDocument,r=function(e,t){const n=Array.isArray(e)?e:[e];return e=>{n.every((t=>{let{current:n}=t;return n&&!n.contains(e.target)}))&&t()}}(e,t);return o.addEventListener("mousedown",r),o.addEventListener("touchstart",r),()=>{o.removeEventListener("mousedown",r),o.removeEventListener("touchstart",r)}}),[e,t])}function he(e,n){const[i,a]=t(),l=r((()=>{a((t=>{const n=null==e?void 0:e.getBoundingClientRect();return r=n,(o=t)&&r&&o.height===r.height&&o.width===r.width&&o.bottom===r.bottom&&o.top===r.top&&o.left===r.left&&o.right===r.right?t:n;var o,r}))}),[e]);var s;return o((()=>s?function(e){let t;const n=()=>{t=window.requestAnimationFrame((()=>{e(),n()}))},o=()=>window.cancelAnimationFrame(t);return n(),o}(s):void 0),[s=n?l:void 0]),i}const fe=e=>{const n=e.current,[o,r]=t(!0);return d((()=>{const e=null==n?void 0:n.getBoundingClientRect(),t=!e||e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth);r(t)}),[n]),o};function ve(e){var o;const{toggleHidden:a,visibleLength:l}=e,[c,u]=t(!1),d=n(null),p=n(null),m=he(p.current,c);ge([p,d],(()=>u(!1)));const g=null!==(o=e.label)&&void 0!==o?o:"Column selector",h=fe(d),f=i((()=>e.columns.findIndex((e=>e.canHide))),[e.columns]),v=i((()=>e.columns.map((e=>e.canHide)).lastIndexOf(!0)),[e.columns]),w=s("ul",{ref:d,id:"".concat(e.id,"-column-selectors"),className:"column-selectors ".concat(h?"":"overflow"),"data-focusindex":0,role:"menu",style:{position:"fixed",top:null==m?void 0:m.bottom,right:void 0!==(null==m?void 0:m.right)?document.body.clientWidth-m.right:void 0}},e.columns.map(((t,n)=>{const o=!e.hiddenColumns.has(t.columnId),r=o&&1===l,i=()=>{r||a(t.columnId)};return t.canHide?s("li",{key:t.columnNumber,onClick:e=>{e.preventDefault(),e.stopPropagation(),i()},onKeyDown:e=>{var t;"Enter"===e.key||" "===e.key?(e.preventDefault(),e.stopPropagation(),i()):("Tab"===e.key&&(n===v||e.shiftKey&&n===f)||"Escape"===e.key)&&(e.preventDefault(),u(!1),null===(t=p.current)||void 0===t||t.focus())},role:"menuitem",tabIndex:0},s("input",{checked:o,disabled:r,id:"".concat(e.id,"_checkbox_toggle_").concat(n),style:{pointerEvents:"none"},type:"checkbox",tabIndex:-1,onChange:we}),s("label",{htmlFor:"".concat(e.id,"_checkbox_toggle_").concat(n),style:{pointerEvents:"none"}},t.header)):null}))),b=r((()=>{u((e=>!e)),setTimeout((()=>{var e,t;null===(t=null===(e=d.current)||void 0===e?void 0:e.querySelector("li"))||void 0===t||t.focus()}),10)}),[]);return s("div",{"aria-label":g,className:"th column-selector",role:"columnheader",title:g},s("div",{className:"column-selector-content"},s("button",{"aria-label":g,ref:p,className:"btn btn-default column-selector-button",onClick:b,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),b())},"aria-haspopup":!0,"aria-expanded":c,"aria-controls":"".concat(e.id,"-column-selectors")},s(me,null))),c&&w)}function we(){}function be(e){const{children:t,className:n,...o}=e;return s("div",{className:U("widget-datagrid-grid table",n),role:"grid",...o},t)}function ye(e){return s("div",{...e,className:U("widget-datagrid-grid-body table-content",e.className),role:"rowgroup"})}function xe(){return s("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"long-arrow-alt-down",className:"svg-inline--fa fa-long-arrow-alt-down fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},s("path",{fill:"currentColor",d:"M168 345.941V44c0-6.627-5.373-12-12-12h-56c-6.627 0-12 5.373-12 12v301.941H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.569 9.373 33.941 0l86.059-86.059c15.119-15.119 4.411-40.971-16.971-40.971H168z"}))}function Ce(){return s("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"long-arrow-alt-up",className:"svg-inline--fa fa-long-arrow-alt-up fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},s("path",{fill:"currentColor",d:"M88 166.059V468c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12V166.059h46.059c21.382 0 32.09-25.851 16.971-40.971l-86.059-86.059c-9.373-9.373-24.569-9.373-33.941 0l-86.059 86.059c-15.119 15.119-4.411 40.971 16.971 40.971H88z"}))}function Se(){return s("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"arrows-alt-v",className:"svg-inline--fa fa-arrows-alt-v fa-w-8",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 512"},s("path",{fill:"currentColor",d:"M214.059 377.941H168V134.059h46.059c21.382 0 32.09-25.851 16.971-40.971L144.971 7.029c-9.373-9.373-24.568-9.373-33.941 0L24.971 93.088c-15.119 15.119-4.411 40.971 16.971 40.971H88v243.882H41.941c-21.382 0-32.09 25.851-16.971 40.971l86.059 86.059c9.373 9.373 24.568 9.373 33.941 0l86.059-86.059c15.12-15.119 4.412-40.971-16.97-40.971z"}))}function Ie(e){var t,n;const o=e.sortable&&e.column.canSort,i=e.draggable&&null!==(t=e.column.canDrag)&&void 0!==t&&t,a=function(e,t,n,o){const i=r((e=>{var t;o(!0);const n=e.target;e.dataTransfer.setData(Ae,null!==(t=n.dataset.columnId)&&void 0!==t?t:"")}),[o]),a=r((e=>{e.preventDefault()}),[]),l=r((e=>{const{dataset:{columnId:t}}=e.target;t!==e.dataTransfer.getData(Ae)&&n(t)}),[n]),s=r((()=>{o(!1),n(void 0)}),[n,o]),c=r((e=>{s();const n=e.target.dataset.columnId,o=e.dataTransfer.getData(Ae);t([n,o])}),[s,t]);return e?{draggable:!0,onDragStart:i,onDragOver:a,onDrop:c,onDragEnter:l,onDragEnd:s}:{}}(i,e.swapColumns,e.setDragOver,e.setIsDragging),l=!!e.sortRule,c=l&&"desc"===(null===(n=e.sortRule)||void 0===n?void 0:n[1]),u=o?s(l?c?xe:Ce:Se,null):null,d=e.column.header.trim(),p=()=>{e.setSortBy(e.column.columnId)},m={onClick:p,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),p())},role:"button",tabIndex:0};return s("div",{"aria-sort":o?l?c?"descending":"ascending":"none":void 0,className:U("th",{"hidden-column-preview":e.preview&&(e.hidable&&e.column.initiallyHidden||!e.column.visible)}),role:"columnheader",style:e.sortable&&e.column.canSort?void 0:{cursor:"unset"},title:d},s("div",{className:U("column-container",{dragging:i&&e.column.columnId===e.dragOver}),id:"".concat(e.gridId,"-column").concat(e.column.columnId),"data-column-id":e.column.columnId,...a},s("div",{className:U("column-header",o?"clickable":"",e.className),style:{pointerEvents:e.isDragging?"none":void 0},...o?m:void 0,"aria-label":o?"sort "+d:d},s("span",null,d.length>0?d:"Â "),u),e.filterable&&e.filterWidget),e.resizable&&e.column.canResize&&e.resizer)}const Ae="application/x-mx-widget-web-datagrid-column-id";function Ne(e,t){const n=()=>I(null==t?void 0:t.get(e));let o=!1;return{onClick:n,onKeyDown(e){"Enter"!==e.code&&"Space"!==e.code||(o=!0)},onKeyUp(e){var t,r;"Enter"!==e.code&&"Space"!==e.code||(t=e.currentTarget,r=e.target,Array.from(t.children).includes(r)&&o&&n(),o=!1)}}}function Pe(e,t){if("None"===t.selectionType)return{};return{onClick(n){n.shiftKey&&T(),((e,n)=>{t.onSelect(e,n)})(e,n.shiftKey)},onKeyDown(n){var o;null===(o=t.onKeyDown)||void 0===o||o.call(t,n,e)},onKeyUp(n){var o;null===(o=t.onKeyUp)||void 0===o||o.call(t,n,e)}}}function Ee(e){return s(B,{...e,className:"column-selector"})}function _e(e){let{rowIndex:t,columnIndex:o,checked:i,onInputClick:a,checkboxAriaLabel:l,lastRow:c,...u}=e;const d=n(null),p=ee({columnIndex:null!=o?o:-1,rowIndex:t,focusTarget:r((()=>d.current),[])});return s(B,{...u,...p,className:"widget-datagrid-col-select",tabIndex:-1},s("input",{checked:i,type:"checkbox",tabIndex:p.tabIndex,onChange:Te,onClick:a,onFocus:c?Oe:void 0,ref:d,"aria-label":"".concat(null!=l?l:"Select row"," ").concat(t+1)}))}function Oe(e){var t;"function"==typeof(null===(t=e.target.parentElement)||void 0===t?void 0:t.scrollIntoView)&&e.target.parentElement.scrollIntoView(!1)}function Te(){}function ke(e){const{CellComponent:t,index:n}=e,{selectionProps:o,preview:r,selectRowLabel:a,data:l}=se(),c=o.isSelected(e.item),u="None"===o.selectionType?void 0:c,[d,{cellClickableClass:p}]=function(e,t,n){return i((function(){const o=function(e,t){return"Single"===e||"Multi"===e?"RowActAsSelectable":t?"RowActAsButton":"None"}(t.selectionType,n);let r={};return"RowActAsButton"===o&&(r=Ne(e,n)),"RowActAsSelectable"===o&&(r=Pe(e,t)),[r,{cellClickableClass:"None"!==o}]}),[e,t,n])}(e.item,o,e.rowAction);return s("div",{className:U("tr",{"tr-selected":c},e.className),role:"row","aria-selected":u,...d,onClick:o.showCheckboxColumn?void 0:d.onClick},o.showCheckboxColumn&&s(_e,{key:"checkbox_cell",borderTop:0===n,clickable:p,rowIndex:n,columnIndex:0,checked:c,onInputClick:d.onClick,checkboxAriaLabel:a,lastRow:n===l.length-1}),e.columns.map(((n,i)=>{const a=s(t,{key:"row_".concat(e.item.id,"_col_").concat(n.columnNumber),column:n,rowIndex:e.index,columnIndex:o.showCheckboxColumn?i+1:i,item:e.item,clickable:p,preview:r});return r?e.selectableWrapper(i,a):a})),e.showSelectorCell&&s(Ee,{key:"column_selector_cell",borderTop:0===n,clickable:p,tabIndex:-1}))}function Le(e){var r,i;const[a,l]=t(!1),s=null!==(i=(r=n()).current)&&void 0!==i?i:r.current=function(e){let{setIsIntersecting:t}=e;return new IntersectionObserver((e=>{let[n]=e;t(n.isIntersecting)}))}({setIsIntersecting:l});return o((()=>(e.current&&s.observe(e.current),()=>{s.disconnect()})),[s,e]),a}const De=30;function Me(){const e=n(null),[r,i]=t(1);return o((()=>{const t=e.current;if(null!==t)return function(e,t){const n=new IntersectionObserver((e=>{let[n]=e;0!==n.intersectionRatio&&1!==n.intersectionRatio||t(n.intersectionRatio)}),{threshold:[0,1]});return n.observe(e),()=>n.unobserve(e)}(t,i)}),[]),s("div",{className:U("sticky-sentinel",{"container-stuck":0===r}),ref:e,style:{height:1,marginBottom:"-1px"}})}function Re(e){let{children:o,className:i,hasMoreItems:a,isInfinite:l,style:c,setPage:u}=e;const[p,m,g]=function(e){const{setPage:o,hasMoreItems:i,isInfinite:a}=e,[l,s]=t(0),c=n(null),u=Le(c),p=r((e=>{Math.floor(e.target.scrollHeight-De-e.target.scrollTop)<=Math.floor(e.target.clientHeight)+2&&i&&o&&o((e=>e+1))}),[i,o]),m=r((()=>{u&&a&&i&&l<=0&&c.current&&s(c.current.clientHeight-De)}),[a,i,l,u]);return d((()=>{setTimeout((()=>m()),100)}),[m]),[p,l,c]}({hasMoreItems:a,isInfinite:l,setPage:u});return s("div",{className:U("widget-datagrid-content","sticky-table-container",{"infinite-loading":l},i),ref:g,onScroll:l?p:void 0,style:l&&m>0?{...c,maxHeight:m}:c},s(Me,null),o)}function ze(e){const{pagingPosition:t,pagination:n,...o}=e;return s("div",{...o,className:"widget-datagrid-footer table-footer"},("bottom"===t||"both"===t)&&n)}function He(e){const{children:t,headerTitle:n,...o}=e;return t?s("div",{...o,className:"widget-datagrid-header header-filters","aria-label":n||void 0},t):null}function Ve(e){const{className:t,selectionMethod:n,selection:o,exporting:r,children:i,...a}=e;return s("div",{...a,className:U(t,"widget-datagrid",{"widget-datagrid-exporting":r,"widget-datagrid-selectable-rows":o,"widget-datagrid-selection-method-checkbox":o&&"checkbox"===n,"widget-datagrid-selection-method-click":o&&"rowClick"===n})},i)}function Fe(e){return s("div",{...e,className:"widget-datagrid-top-bar table-header"},e.children)}function Ke(e){return s("div",{className:"widget-datagrid-modal-root",role:"presentation"},s("div",{className:"widget-datagrid-modal-overlay",role:"presentation"}),s("div",{className:"widget-datagrid-modal-main",role:"presentation"},e.children))}function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ue.apply(this,arguments)}function Be(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=t[0];if(1===t.length)return o;const r=()=>{const e=t.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(t){const n=e.reduce(((e,n)=>{let{useScope:o,scopeName:r}=n;return{...e,...o(t)["__scope".concat(r)]}}),{});return i((()=>({["__scope".concat(o.scopeName)]:n})),[n])}};return r.scopeName=o.scopeName,r}function je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.forEach((t=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(t,e)))}const Ze=l(((e,t)=>{const{children:n,...o}=e,r=p.toArray(n),i=r.find(Xe);if(i){const e=i.props.children,n=r.map((t=>t===i?p.count(e)>1?p.only(null):m(e)?e.props.children:null:t));return s(We,Ue({},o,{ref:t}),m(e)?g(e,void 0,n):null)}return s(We,Ue({},o,{ref:t}),n)}));Ze.displayName="Slot";const We=l(((e,t)=>{const{children:n,...o}=e;return m(n)?g(n,{...qe(o,n.props),ref:t?je(t,n.ref):n.ref}):p.count(n)>1?p.only(null):null}));We.displayName="SlotClone";const Ge=e=>{let{children:t}=e;return s(u,null,t)};function Xe(e){return m(e)&&e.type===Ge}function qe(e,t){const n={...t};for(const o in t){const r=e[o],i=t[o];/^on[A-Z]/.test(o)?r&&i?n[o]=function(){i(...arguments),r(...arguments)}:r&&(n[o]=r):"style"===o?n[o]={...r,...i}:"className"===o&&(n[o]=[r,i].filter(Boolean).join(" "))}return{...e,...n}}const Je=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=l(((e,n)=>{const{asChild:r,...i}=e,a=r?Ze:t;return o((()=>{window[Symbol.for("radix-ui")]=!0}),[]),s(a,Ue({},i,{ref:n}))}));return n.displayName="Primitive.".concat(t),{...e,[t]:n}}),{}),Ye="Progress",Qe=100,[$e,et]=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=[];const r=()=>{const n=o.map((t=>e(t)));return function(e){const o=(null==e?void 0:e[t])||n;return i((()=>({["__scope".concat(t)]:{...e,[t]:o}})),[e,o])}};return r.scopeName=t,[function(n,r){const a=e(r),l=o.length;function u(e){const{scope:n,children:o,...r}=e,c=(null==n?void 0:n[t][l])||a,u=i((()=>r),Object.values(r));return s(c.Provider,{value:u},o)}return o=[...o,r],u.displayName=n+"Provider",[u,function(e,o){const i=(null==o?void 0:o[t][l])||a,s=c(i);if(s)return s;if(void 0!==r)return r;throw new Error("`".concat(e,"` must be used within `").concat(n,"`"))}]},Be(r,...n)]}(Ye),[tt,nt]=$e(Ye),ot=l(((e,t)=>{const{__scopeProgress:n,value:o,max:r,getValueLabel:i=it,...a}=e,l=st(r)?r:Qe,c=ct(o,l)?o:null,u=lt(c)?i(c,l):void 0;return s(tt,{scope:n,value:c,max:l},s(Je.div,Ue({"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":lt(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":at(c,l),"data-value":null!=c?c:void 0,"data-max":l},a,{ref:t})))}));ot.propTypes={max(e,t,n){const o=e[t],r=String(o);return o&&!st(o)?new Error(function(e,t){return"Invalid prop `max` of value `".concat(e,"` supplied to `").concat(t,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(Qe,"`.")}(r,n)):null},value(e,t,n){const o=e[t],r=String(o),i=st(e.max)?e.max:Qe;return null==o||ct(o,i)?null:new Error(function(e,t){return"Invalid prop `value` of value `".concat(e,"` supplied to `").concat(t,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(Qe," if no `max` prop is set)\n  - `null` if the progress is indeterminate.\n\nDefaulting to `null`.")}(r,n))}};const rt=l(((e,t)=>{var n;const{__scopeProgress:o,...r}=e,i=nt("ProgressIndicator",o);return s(Je.div,Ue({"data-state":at(i.value,i.max),"data-value":null!==(n=i.value)&&void 0!==n?n:void 0,"data-max":i.max},r,{ref:t}))}));function it(e,t){return"".concat(Math.round(e/t*100),"%")}function at(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function lt(e){return"number"==typeof e}function st(e){return lt(e)&&!isNaN(e)&&e>0}function ct(e,t){return lt(e)&&!isNaN(e)&&e<=t&&e>=0}const ut=ot,dt=rt;function pt(){return s("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},s("path",{d:"M14.205 3.205L12.795 1.795L8 6.585L3.205 1.795L1.795 3.205L6.585 8L1.795 12.795L3.205 14.205L8 9.415L12.795 14.205L14.205 12.795L9.415 8L14.205 3.205Z",fill:"currentColor"}))}function mt(){return s("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},s("rect",{x:"13.3773",y:"10.5415",width:"5.30402",height:"14.7575",fill:"white"}),s("path",{d:"M29.71 24.97L23.77 15.11L17.64 4.94C16.89 3.69 15.11 3.69 14.36 4.94L8.23002 15.11L2.29002 24.97C1.50002 26.29 2.42002 28 3.94002 28H28.06C29.58 28 30.5 26.29 29.71 24.97ZM16 25C14.9 25 14 24.1 14 23C14 22 14.74 21.18 15.7 21.03C15.8 21.01 15.9 21 16 21C16.1 21 16.21 21.01 16.3 21.03C17.26 21.18 18 22 18 23C18 24.1 17.1 25 16 25ZM18 19H14V11H18V19Z",fill:"currentColor"}))}function gt(e){let{alertLabel:n,cancelLabel:o,failed:r,onCancel:i,progress:a,total:l}=e;const[c]=t((()=>"widget-datagrid-export-alert-".concat(V())));return s("div",{id:c,className:U("widget-datagrid-export-alert",{"widget-datagrid-export-alert-failed":r}),role:"status","aria-live":"off","aria-label":n},s("button",{role:"button",className:"btn btn-image btn-icon widget-datagrid-export-alert-cancel",onClick:i,"aria-label":o,tabIndex:0},s(pt,null)),s("div",{className:"widget-datagrid-export-alert-message"},r?s(mt,null):s("p",null,ft(l)?function(e,t){return"".concat(e," / ").concat(t)}(a,l):a)),s(ht,{progress:a,total:l}))}function ht(e){let{progress:t,total:n}=e;const o=ft(n)&&n;return s(ut,{className:"widget-datagrid-export-progress",value:o?t:null,max:n},s(dt,{className:U("widget-datagrid-export-progress-indicator",{"widget-datagrid-export-progress-indicator-indeterminate":!o}),style:o?vt(t,n):void 0}))}function ft(e){return"number"==typeof e&&e>0}function vt(e,t){return{transform:"translateX(-".concat(100-wt(e,0,t),"%)")}}function wt(e,t,n){if(e<t)return 0;if(e>n)return 100;const o=n-t,r=Math.round((e-t)/o*100);return Math.abs(r)}function bt(e){let{open:t,...n}=e;return t?s(Ke,null,s(gt,{...n})):null}function yt(e){var n,o;const{className:a,columnsDraggable:l,columnsFilterable:c,columnsHidable:u,columnsResizable:d,columnsSortable:p,data:m,emptyPlaceholderRenderer:g,exporting:h,filterRenderer:f,headerContent:v,headerTitle:w,hasMoreItems:b,headerWrapperRenderer:y,id:x,numberOfItems:C,onExportCancel:S,page:I,pageSize:A,paging:N,pagingPosition:P,preview:E,processedRows:_,setPage:O,styles:T,selectionProps:k,CellComponent:L,state:D,actions:M}=e,R=E?D.allColumns:D.visibleColumns,z=(u?1:0)+(e.selectionProps.showCheckboxColumn?1:0),H=R.length+(e.selectionProps.showCheckboxColumn?1:0),V=R.length+z,F=!N,[K,B]=t(!1),[j,Z]=t(void 0),W=!!v,G=N&&("top"===P||"both"===P),X=r((e=>s("div",{className:"filter",style:{pointerEvents:K?"none":void 0}},e)),[K]),q=N?s(oe,{canNextPage:b,canPreviousPage:0!==I,gotoPage:e=>O&&O((()=>e)),nextPage:()=>O&&O((e=>e+1)),numberOfItems:C,page:I,pageSize:A,previousPage:()=>O&&O((e=>e-1))}):null,J=i((()=>function(e,t,n){const o=e.map((e=>{const n=t[e.columnId];if(n)return"".concat(n,"px");switch(e.width){case"autoFit":return"fit-content(100%)";case"manual":return"".concat(e.weight,"fr");default:return"1fr"}})),r=[];n.selectItemColumn&&r.push("fit-content(48px)");r.push(...o),n.visibilitySelectorColumn&&r.push("fit-content(50px)");return{gridTemplateColumns:r.join(" ")}}(R,e.state.size,{selectItemColumn:k.showCheckboxColumn,visibilitySelectorColumn:u})),[e.state.size,R,u,k.showCheckboxColumn]),Y="None"!==e.selectionProps.selectionType;return s(le,{value:e},s(Ve,{className:a,selectionMethod:k.selectionMethod,selection:Y,style:T,exporting:h},G&&s(Fe,null,q),W&&s(He,{headerTitle:w},v),s(Re,{isInfinite:F,hasMoreItems:b,setPage:O},s(be,{"aria-multiselectable":Y?"Multi"===k.selectionType:void 0},s(ye,{style:J},s("div",{key:"headers_row",className:"tr",role:"row"},s(ue,{key:"headers_column_select_all"}),R.map(((t,n)=>y(n,s(Ie,{key:"".concat(t.columnId),className:"align-column-".concat(t.alignment),gridId:e.id,column:t,draggable:l,dragOver:j,filterable:c,filterWidget:f(X,t.columnNumber),hidable:u,isDragging:K,preview:E,resizable:d,resizer:s(pe,{setColumnWidth:e=>M.resize([t.columnId,e])}),swapColumns:M.swap,setDragOver:Z,setIsDragging:B,setSortBy:M.sortBy,sortable:p,sortRule:D.sortOrder.find((e=>{let[n]=e;return t.columnId===n})),visibleColumns:D.visibleColumns})))),u&&s(ve,{key:"headers_column_selector",columns:D.availableColumns,hiddenColumns:D.hidden,id:x,toggleHidden:M.toggleHidden,visibleLength:D.visibleColumns.length})),s($,{rows:e.data.length,columns:H,pageSize:e.pageSize},m.map(((t,n)=>{var o;return s(ke,{CellComponent:L,className:null===(o=e.rowClass)||void 0===o?void 0:o.call(e,t),columns:R,index:n,item:t,key:"row_".concat(t.id),rowAction:e.rowAction,showSelectorCell:u,preview:null!=E&&E,selectableWrapper:y})}))),(0===m.length||E)&&g&&g((e=>s("div",{key:"row-footer",className:U("td",{"td-borders":!E}),style:{gridColumn:"span ".concat(V)}},s("div",{className:"empty-placeholder"},e))))))),s(ze,{pagination:q,pagingPosition:P}),s(bt,{alertLabel:null!==(n=e.exportDialogLabel)&&void 0!==n?n:"Export progress",cancelLabel:null!==(o=e.cancelExportLabel)&&void 0!==o?o:"Cancel data export",failed:!1,onCancel:S,open:h,progress:_,total:C})))}const xt=a((n=>{const o=(void 0===window[_]&&(window[_]=e(void 0)),window[_]),r=function(){let t=window[w];return null==t&&(t=e(void 0),window[w]=t),t}(),a=n.state,l=i((()=>n.filterList.reduce(((e,t)=>{let{filter:n}=t;return{...e,[n.id]:n}}),{})),[n.filterList]),[c]=t((()=>n.filterList.reduce(((e,t)=>{let{filter:o}=t;return{...e,[o.id]:C(o,n.viewStateFilters)}}),{})));return s(r.Provider,{value:{filterDispatcher:e=>{if(e.filterType){const[,t]=a[e.filterType];t(e),n.setFiltered(!0)}return e},multipleAttributes:l,multipleInitialFilters:c}},s(o.Provider,{value:n.selectionContextValue},n.children))}));xt.displayName="WidgetHeaderContext";const Ct=xt;function St(e){if(null==e)throw new Error(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Did not expect an argument to be undefined");return e}function It(e){if(e.filterAssociation)return function(e){const t=e=>"Can't map ColumnsType to AssociationProperties: ".concat(e," is undefined"),n=St(e.filterAssociation,t("filterAssociation")),o=St(e.filterAssociationOptions,t("filterAssociationOptions")),r=St(e.filterAssociationOptionLabel,t("filterAssociationOptionLabel"));return{association:n,optionsSource:o,getOptionLabel:e=>{var t;return null!==(t=r.get(e).value)&&void 0!==t?t:"Error: unable to get caption"}}}(e)}const At=e=>e&&"available"===e.status&&e.value,Nt="com.mendix.widgets.web.datagrid.export",Pt=200,Et=Symbol("overwrite"),_t=e=>{const[t,n]=function(e){let{columns:t,items:n=[],offset:r,limit:a=Pt,hasMoreItems:l,updateDataSource:s}=e;const[c,u]=h(Tt,Ot()),[d,p]=i(kt,[]);return o((()=>u({type:"DataSourceUpdate",payload:{items:n,offset:r,limit:a,hasMoreItems:l}})),[n,r,a,l]),o((()=>{u({type:"ColumnsUpdate",payload:{columns:t}})}),[t]),o((()=>{d(c,u,s)}),[c]),o((()=>p),[]),[{currentLimit:c.currentLimit,exporting:c.exporting,items:c.exporting?c.snapshot.items:null!=n?n:[],processedRows:c.processedRows},u]}(e);o((()=>{window[Nt]||(window[Nt]={}),window.DATAGRID_DATA_EXPORT||(window.DATAGRID_DATA_EXPORT="");let t,o=!1,r=!1;const i={create(){if(r)throw new Error("Data grid (Export): export stream is busy");let o=!1;return{process:(i,a)=>{const{limit:l=Pt}=null!=a?a:{},s=e=>{"aborted"!==e.type&&"end"!==e.type||(r=!1,o=!1),i(e)};n({type:"Setup",payload:{callback:s,columns:e.columns,limit:Math.min(l,500)}}),t=()=>{r&&s({type:"aborted"})},o=!0},start:()=>{if(!o)throw new Error("Data grid (Export): can't start without handler.");n({type:"Start"})},abort:()=>{n({type:"Abort"})}}},[Et]:()=>{o=!0}},a=window[Nt][e.name];return a&&a[Et](),window[Nt][e.name]=i,window.DATAGRID_DATA_EXPORT=Nt,()=>{null==t||t(),!1===o&&delete window[Nt][e.name]}}),[]);return[t,i((()=>({abort:()=>n({type:"Abort"})})),[n])]};function Ot(){return{callback:null,columns:null,currentItems:[],currentLimit:Number.POSITIVE_INFINITY,currentOffset:0,exporting:!1,hasMoreItems:!0,phase:"awaitingCallback",processedRows:0,snapshot:null}}function Tt(e,t){if("Reset"===t.type)return Ot();if("DataSourceUpdate"===t.type){if("awaitingCallback"===e.phase&&function(e,t){let{payload:n}=t;if(e.currentLimit===n.limit&&e.currentOffset===n.offset&&e.hasMoreItems==e.hasMoreItems&&e.currentItems.length===n.items.length)return e.currentItems.every(((e,t)=>{const o=n.items[t];return e.id===o.id}));return!1}(e,t))return e;const n=e.phase,o={...e,currentOffset:t.payload.offset,currentLimit:t.payload.limit,currentItems:t.payload.items,hasMoreItems:t.payload.hasMoreItems};return o.exporting&&"awaitingData"===n&&(o.phase="exportData"),o.exporting&&"resetOffset"===n&&(0===o.currentItems.length?o.phase="finished":o.phase="exportData"),o.exporting&&"finally"===n?{...Ot(),currentLimit:t.payload.limit,currentItems:t.payload.items,currentOffset:t.payload.offset}:o}if("ColumnsUpdate"===t.type&&("readyToStart"===e.phase||"exportColumns"===e.phase||"exportData"===e.phase))return{...e,columns:t.payload.columns};if("Setup"===t.type&&"awaitingCallback"===e.phase)return{...e,phase:"readyToStart",snapshot:{items:e.currentItems,offset:e.currentOffset,limit:e.currentLimit},callback:t.payload.callback,columns:t.payload.columns,currentLimit:t.payload.limit,currentOffset:0};if("Start"===t.type){if(e.exporting)return e;if("readyToStart"===e.phase&&e.callback instanceof Function)return{...e,phase:"exportColumns",exporting:!0};throw new Error("Datagrid (Export): Export start failed: invalid state.")}return"ColumnsExported"===t.type&&e.exporting&&"exportColumns"===e.phase?{...e,phase:"resetOffset"}:"PageExported"===t.type&&e.exporting&&"exportData"===e.phase?{...e,phase:"awaitingData",processedRows:e.processedRows+e.currentLimit}:"Finish"===t.type&&e.exporting?{...e,phase:"finished"}:"Abort"===t.type&&e.exporting?{...e,phase:"aborting"}:"ExportEnd"===t.type&&e.exporting?{...e,phase:"finally",processedRows:0}:e}function kt(){let e=null;const t=()=>(null===e&&(e=new Lt),e),n=()=>{e=new Lt};return[async(e,o,r)=>{const i=t();if(!1!==e.exporting)if("resetOffset"!==e.phase){if("exportColumns"===e.phase){const{columns:t,callback:n}=e;return await i.exec((()=>n(function(e){return{type:"columns",payload:e.map((e=>{var t,n,o,r;return{name:e.header&&At(e.header)&&null!==(n=null===(t=e.header.value)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",type:null!==(r=null===(o=e.attribute)||void 0===o?void 0:o.type.toString())&&void 0!==r?r:""}}))}}(t)))),void i.exec((()=>o({type:"ColumnsExported"})))}if("exportData"!==e.phase)if("awaitingData"!==e.phase){if("aborting"===e.phase){const{callback:t}=e;return i.exec((()=>t({type:"aborted"}))),i.exec((()=>o({type:"ExportEnd"}))),void i.abort("abortAction")}if("finished"===e.phase){const{callback:t}=e;return i.exec((()=>t({type:"end"}))),void i.exec((()=>o({type:"ExportEnd"})))}if("finally"===e.phase){const{snapshot:t}=e;!1!==i.isAborted&&"abortAction"!==i.abortReason||r({offset:t.offset,limit:t.limit}),n()}}else{const{currentOffset:t,currentLimit:n,hasMoreItems:a}=e;a?i.exec((()=>r({offset:t+n}))):i.exec((()=>o({type:"Finish"})))}else{const{currentItems:t,callback:n,columns:r}=e;if(t.length>0){const e=function(e,t){let n=!1;const o=e.map((e=>t.map((t=>{var o,r,i,a,l;let s="";if("attribute"===t.showContentAs)s=null!==(i=null===(r=null===(o=t.attribute)||void 0===o?void 0:o.get(e))||void 0===r?void 0:r.displayValue)&&void 0!==i?i:"";else if("dynamicText"===t.showContentAs){const o=null===(a=t.dynamicText)||void 0===a?void 0:a.get(e);"loading"===(null==o?void 0:o.status)?n=!0:s="unavailable"===(null==o?void 0:o.status)?"n/a":null!==(l=null==o?void 0:o.value)&&void 0!==l?l:""}else s="n/a (custom content)";return s}))));return n?{status:"pending"}:{status:"ready",message:{type:"data",payload:o}}}(t,r);"ready"===e.status&&(await i.exec((()=>n(e.message))),i.exec((()=>o({type:"PageExported"}))))}}}else i.exec((()=>r({offset:0,limit:e.currentLimit,reload:!0})))},()=>{t().abort("unmount")}]}class Lt{constructor(){this.aborted=!1,this.reason=null}async exec(e){this.isAborted||await e()}abort(e){this.aborted=!0,this.reason=e}get isAborted(){return this.aborted}get abortReason(){return this.reason}}function Dt(e,t){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2166136261;const n=e.length;for(let o=0;o<n;o++)t^=e.charCodeAt(o),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(JSON.stringify({name:t,columns:e.map((e=>({columnId:e.columnId,canSort:e.canSort,canHide:e.canHide,canResize:e.canResize,canDrag:e.canDrag})))})).toString()}function Mt(e,t){return e.flatMap((e=>{let[n,o]=e;var r;const{attrId:i}=null!==(r=t.find((e=>e.columnId===n)))&&void 0!==r?r:{};return i?[[i,o]]:[]}))}function Rt(e,t){return e.flatMap((e=>{let[n,o]=e;var r;const i=null===(r=t.find((e=>e.attrId===n)))||void 0===r?void 0:r.columnId;return i?[[i,o]]:[]}))}function zt(e,t){return{sortOrder:e.sortOrder,columnOrder:e.columnOrder,hidden:new Set(e.columns.flatMap((e=>e.hidden?[e.columnId]:[]))),size:Object.fromEntries(e.columns.map((e=>[e.columnId,e.size]))),filter:t.filter}}function Ht(e,t){return{sortOrder:Rt(t.sortOrder,e),size:{},hidden:new Set(e.flatMap((e=>e.initiallyHidden?[e.columnId]:[]))),columnOrder:e.map((e=>e.columnId)),filter:t.filter}}function Vt(e,t,r){const[a,l]=h(Ft,{params:e,columns:t},Zt),s=i((()=>({resize:e=>l({type:"resize",payload:e}),setFilter:e=>l({type:"setFilter",payload:e}),sortBy:e=>l({type:"sortBy",payload:e}),swap:e=>l({type:"swap",payload:e}),toggleHidden:e=>l({type:"toggleHidden",payload:e})})),[l]);return o((()=>l({type:"setColumns",payload:t})),[t]),function(e,t){const r=n(void 0);o((()=>{void 0!==r.current&&e(r.current,t),r.current=t}),t)}(((e,t)=>{let[n]=e,[o]=t;return r(n,o)}),[a]),[a,s]}function Ft(e,t){switch(t.type){case"resize":return{...e,size:Bt(e.size,t.payload)};case"setFilter":return e.filter===t.payload?e:{...e,filter:t.payload};case"setColumns":return e.allColumns===t.payload?e:function(e,t){const n=Kt(t,e.columnOrder);let o=e.hidden,r=Ut(n,o);0===r.length&&(o=new Set,r=Ut(n,o));return{...e,allColumns:t,availableColumns:n,visibleColumns:r,hidden:o}}(e,t.payload);case"sortBy":return{...e,sortOrder:jt(e.sortOrder,t.payload)};case"swap":{const n=function(e,t){let[n,o]=t;const r=e.indexOf(n),i=e.indexOf(o);if(-1===r||-1===i)return console.warn("Unable to find column in the current order array."),e;if(r!==i){const t=[...e];return t[r]=o,t[i]=n,t}return e}(e.columnOrder,t.payload),o=Kt(e.allColumns,n);return{...e,columnOrder:n,availableColumns:o,visibleColumns:Ut(o,e.hidden)}}case"toggleHidden":{const r=function(e,t,n){if(e.some((e=>!n.has(e.columnId))))return n;return t}(e.availableColumns,e.hidden,function(e,t){const n=new Set(e);!1===n.delete(t)&&n.add(t);return n}(e.hidden,t.payload));return e.hidden===r?e:{...e,hidden:r,sortOrder:(n=e.sortOrder,o=t.payload,n.flatMap((e=>e[0]===o?[]:[e]))),visibleColumns:Ut(e.availableColumns,r)}}}var n,o}function Kt(e,t){return function(e,t){const n=[...e],o=Object.fromEntries(t.map(((e,t)=>[e,t])));return n.sort(((e,t)=>o[e.columnId]-o[t.columnId])),n}(e,t).filter((e=>e.visible))}function Ut(e,t){return e.filter((e=>!t.has(e.columnId)))}function Bt(e,t){let[n,o]=t;return{...e,[n]:o}}function jt(e,t){const[[n,o]=[]]=e;return n===t?"asc"===o?[[t,"desc"]]:[]:[[t,"asc"]]}function Zt(e){let{params:t,columns:n}=e;const o=Kt(n,t.columnOrder),r=Ut(o,t.hidden);return{allColumns:n,availableColumns:o,columnOrder:t.columnOrder,filter:t.filter,hidden:t.hidden,size:t.size,sortOrder:t.sortOrder,visibleColumns:r}}const Wt=e=>{const{pagination:t,showPagingButtons:n,totalCount:o,limit:r}=e;return i((()=>"buttons"===t&&("always"===n||"auto"===n&&!!o&&o>r)),[t,n,o,r])};class Gt{constructor(e){this.properties=e}get alignment(){return this.properties.alignment}get canSort(){return this.properties.sortable}get canResize(){return this.properties.resizable}get canDrag(){return this.properties.draggable}get canHide(){return"no"!==this.properties.hidable}get initiallyHidden(){return"hidden"===this.properties.hidable}get weight(){var e;return null!==(e=this.properties.size)&&void 0!==e?e:1}get width(){return this.properties.width}get wrapText(){return this.properties.wrapText}}class Xt extends Gt{constructor(e,t){var n,o;super(e),this.props=e,this.columnNumber=t,this.visible=null!==(o=null===(n=e.visible)||void 0===n?void 0:n.value)&&void 0!==o&&o}columnClass(e){var t;return null===(t=this.props.columnClass)||void 0===t?void 0:t.get(e).value}get canSort(){var e;return super.canSort&&!!(null===(e=this.props.attribute)||void 0===e?void 0:e.sortable)}get columnId(){return this.columnNumber.toString()}get header(){var e,t;return null!==(t=null===(e=this.props.header)||void 0===e?void 0:e.value)&&void 0!==t?t:""}get status(){var e,t;return null!==(t=null===(e=this.props.visible)||void 0===e?void 0:e.status)&&void 0!==t?t:"loading"}get attrId(){var e;return null===(e=this.props.attribute)||void 0===e?void 0:e.id}setInitParams(){this.props.filterAssociationOptions&&this.props.filterAssociationOptions.setLimit(0)}renderCellContent(e){var t,n,o,r,i,a,l;switch(this.props.showContentAs){case"attribute":case"dynamicText":return s("span",{className:"td-text",title:null===(n=null===(t=this.props.tooltip)||void 0===t?void 0:t.get(e))||void 0===n?void 0:n.value},"attribute"===this.props.showContentAs?null===(r=null===(o=this.props.attribute)||void 0===o?void 0:o.get(e))||void 0===r?void 0:r.displayValue:null===(a=null===(i=this.props.dynamicText)||void 0===i?void 0:i.get(e))||void 0===a?void 0:a.value);case"customContent":return s(Yt,null,null===(l=this.props.content)||void 0===l?void 0:l.get(e));default:throw new Error("Unknown content type: ".concat(this.props.showContentAs))}}}const qt=e=>{e.stopPropagation()},Jt=e=>{"Tab"!==e.code&&e.stopPropagation()};function Yt(e){return s("div",{onClick:qt,onKeyUp:qt,onKeyDown:Jt,className:"td-custom-content"},e.children)}class Qt{constructor(e,t){this.attr=e,this.hash=t}load(){if("string"==typeof this.attr.value&&this.attr.value.length>0){const e=JSON.parse(this.attr.value);if(e.settingsHash===this.hash)return e;this.reset()}}save(e){this.attr.setValue(JSON.stringify(e))}reset(){this.attr.setValue(void 0)}}class $t{constructor(){this.state=this.pending(),this.initialized=!1}getInitState(e,t,n,o,r){if("ready"===this.state.status)return this.state;if(this.initialized||(this.setInitParams(e,o,t,n),this.initialized=!0),"loading"===r.status||"loading"===e.status||o.some((e=>"loading"===e.status)))return this.pending();let i,a=!1;return"available"===r.status&&(i=r.settings.load(),i&&(this.setViewState(e,i,o),e.reload(),a=!0)),this.state=this.ready(e,o,i),a?this.pending():this.state}setInitParams(e,t,n,o){"buttons"===n&&e.requestTotalCount(!0),e.setLimit(o),t.forEach((e=>e.setInitParams()))}setViewState(e,t,n){t.sortOrder.length>0&&e.setSortOrder(Mt(t.sortOrder,n))}ready(e,t,n){return{status:"ready",initParams:n?zt(n,e):Ht(t,e)}}pending(){return{status:"pending"}}}const[en,tn]=((e,t)=>{let n=null;const o=()=>{null!==n&&(clearTimeout(n),n=null)};return[function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];o(),n=setTimeout((()=>e(...i)),t)},o]})(((e,t)=>{e.save(t)}),500);function nn(e){let{name:t,columns:n,datasource:r,pageSize:a,pagination:l,configurationAttribute:s}=e;const c=i((()=>new $t),[]),u=i((()=>n.map(((e,t)=>new Xt(e,t)))),[n]),d=i((()=>Dt(u,t)),[t,u]),p=function(e,t){return i((()=>"available"===(null==t?void 0:t.status)?{status:"available",settings:new Qt(t,e)}:"loading"===(null==t?void 0:t.status)?{status:"loading",settings:void 0}:{status:"unavailable",settings:void 0}),[e,t])}(d,s),m=de(((e,n)=>{if(e.filter!==n.filter&&r.setFilter(n.filter),e.sortOrder!==n.sortOrder&&r.setSortOrder(Mt(n.sortOrder,u)),"available"===p.status){const e={schemaVersion:1,settingsHash:(o={settingsHash:d,name:t,columns:n.allColumns,hidden:n.hidden,columnOrder:n.columnOrder,size:n.size,sortOrder:n.sortOrder}).settingsHash,name:o.name,sortOrder:o.sortOrder,columnOrder:o.columnOrder,columns:o.columns.map((e=>{let{columnId:t}=e;return{columnId:t,hidden:o.hidden.has(t),size:o.size[t],filterSettings:void 0}}))};en(p.settings,e)}var o}));return o((()=>tn),[]),{initState:c.getInitState(r,l,a,u,p),columns:u,stateChangeFx:m}}function on(e){var a,l,c,u,d;const p="virtualScrolling"===e.pagination,m=p?e.datasource.limit/e.pageSize:e.datasource.offset/e.pageSize,g=n(void 0),[h,w]=t(!1),y={[v.STRING]:t(),[v.NUMBER]:t(),[v.DATE]:t(),[v.ENUMERATION]:t(),[v.ASSOCIATION]:t()},{FilterContext:x}=b(),[S,I]=Vt(e.initParams,e.mappedColumns,e.onStateChange),[{items:A,exporting:N,processedRows:P},{abort:_}]=_t({columns:i((()=>S.visibleColumns.map((t=>e.columns[t.columnNumber]))),[S.visibleColumns,e.columns]),hasMoreItems:e.datasource.hasMoreItems||!1,items:e.datasource.items,name:e.name,offset:e.datasource.offset,limit:e.datasource.limit,updateDataSource:r((t=>{let{offset:n,limit:o,reload:r}=t;var i,a;null!=n&&(null===(i=e.datasource)||void 0===i||i.setOffset(n)),null!=o&&(null===(a=e.datasource)||void 0===a||a.setLimit(o)),r&&e.datasource.reload()}),[e.datasource])});o((()=>{!e.datasource.filter||h||g.current||(g.current=e.datasource.filter)}),[e.datasource,h]),o((()=>{e.refreshInterval>0&&setTimeout((()=>{e.datasource.reload()}),1e3*e.refreshInterval)}),[e.datasource,e.refreshInterval]);const O=r((t=>{const n=t(m);p?e.datasource.setLimit(n*e.pageSize):e.datasource.setOffset(n*e.pageSize)}),[e.datasource,e.pageSize,p,m]),T=e.columns.map((()=>t())),k=T.map((e=>{let[t]=e;return t})),L=Object.keys(y).map((e=>y[e][0])),D=i((()=>T.map((e=>{let[t]=e;var n;return null===(n=null==t?void 0:t.getFilterCondition)||void 0===n?void 0:n.call(t)})).filter((e=>void 0!==e)).concat(Object.keys(y).map((e=>{var t;return null===(t=y[e][0])||void 0===t?void 0:t.getFilterCondition()})).filter((e=>void 0!==e)))),[...k,...L]);o((()=>{D.length>0?I.setFilter(D.length>1?f(...D):D[0]):h?I.setFilter(void 0):I.setFilter(g.current)}),[D,h,I]);const M=E(e.itemSelection,e.datasource,e.onSelectionChange,e.pageSize),R=function(e){const t=r((()=>{"Multi"===(null==e?void 0:e.type)&&("all"===e.selectionStatus?e.selectNone():e.selectAll())}),[e]),n="Multi"===(null==e?void 0:e.type)?e.selectionStatus:void 0;return i((()=>{if(void 0!==n)return{status:n,toggle:t}}),[n,t])}(M),z=H({selection:e.itemSelection,selectionMethod:e.itemSelectionMethod,helper:M,showSelectAllToggle:e.showSelectAllToggle});return s(yt,{className:e.class,CellComponent:te,columnsDraggable:e.columnsDraggable,columnsFilterable:e.columnsFilterable,columnsHidable:e.columnsHidable,columnsResizable:e.columnsResizable,columnsSortable:e.columnsSortable,data:A,emptyPlaceholderRenderer:r((t=>"custom"===e.showEmptyPlaceholder?t(e.emptyPlaceholder):s("div",null)),[e.emptyPlaceholder,e.showEmptyPlaceholder]),filterRenderer:r(((t,n)=>{const o=e.columns[n],{attribute:r,filter:i}=o,a=It(o),[,l]=T[n],c=C(r,g.current);return t(r||a?s(x.Provider,{value:{filterDispatcher:e=>(w(!0),l(e),e),singleAttribute:r,singleInitialFilter:c,associationProperties:a}},i):i)}),[x,T,e.columns]),headerTitle:null===(a=e.filterSectionTitle)||void 0===a?void 0:a.value,headerContent:e.filtersPlaceholder&&s(Ct,{filterList:e.filterList,setFiltered:w,viewStateFilters:g.current,selectionContextValue:R,state:y},e.filtersPlaceholder),hasMoreItems:null!==(l=e.datasource.hasMoreItems)&&void 0!==l&&l,headerWrapperRenderer:r(((e,t)=>t),[]),id:i((()=>"DataGrid".concat(V())),[]),numberOfItems:e.datasource.totalCount,onExportCancel:_,page:m,pageSize:e.pageSize,paging:Wt({pagination:e.pagination,showPagingButtons:e.showPagingButtons,totalCount:e.datasource.totalCount,limit:e.datasource.limit}),pagingPosition:e.pagingPosition,rowClass:r((t=>{var n,o,r;return null!==(r=null===(o=null===(n=e.rowClass)||void 0===n?void 0:n.get(t))||void 0===o?void 0:o.value)&&void 0!==r?r:""}),[e.rowClass]),setPage:O,styles:e.style,valueForSort:r(((t,n)=>{const o=e.columns[n];return o.attribute?o.attribute.get(t).value:""}),[e.columns]),rowAction:e.onClick,selectionProps:z,selectionStatus:"Multi"===(null==M?void 0:M.type)?M.selectionStatus:"unknown",exporting:N,processedRows:P,exportDialogLabel:null===(c=e.exportDialogLabel)||void 0===c?void 0:c.value,cancelExportLabel:null===(u=e.cancelExportLabel)||void 0===u?void 0:u.value,selectRowLabel:null===(d=e.selectRowLabel)||void 0===d?void 0:d.value,state:S,actions:I})}function rn(e){const{initState:t,columns:n,stateChangeFx:o}=nn(e);return"pending"===t.status?null:s(on,{...e,initParams:t.initParams,mappedColumns:n,onStateChange:o})}export{rn as default};
